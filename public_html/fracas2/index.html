<!doctype html>
<html>
<head>
<title>Fracas II: The Frackening</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, user-scalable=no">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">

<script src="../js/math.js"></script>
<script src="../js/poolify.js"></script>
<script src="../js/vec2d.js"></script>
<script src="../js/rect.js"></script>
<script src="../js/skipqueue.js"></script>
<script src="../js/arrayset.js"></script>

<script src="../js/webgl/webglutil.js"></script>
<script src="../js/webgl/trianglebufferbuilder.js"></script>
<script src="../js/webgl/fanbufferbuilder.js"></script>

<script src="../js/physics/cell.js"></script>
<script src="../js/physics/body.js"></script>
<script src="../js/physics/cellrange.js"></script>
<script src="../js/physics/hitdetector.js"></script>
<script src="../js/physics/hitresolver.js"></script>
<script src="../js/physics/spirit.js"></script>
<script src="../js/physics/world.js"></script>
<script src="../js/physics/worldevent.js"></script>
<script src="../js/physics/scanrequest.js"></script>
<script src="../js/physics/scanresponse.js"></script>

<script src="../js/controls/key.js"></script>
<script src="../js/controls/keys.js"></script>
<script src="../js/controls/stick.js"></script>
<script src="../js/controls/keystick.js"></script>
<script src="../js/controls/touchstick.js"></script>
<script src="../js/controls/multistick.js"></script>
<script src="../js/controls/pointerlockstick.js"></script>

<script src="playerspirit.js"></script>
<script src="bulletspirit.js"></script>
<script src="gnomespirit.js"></script>
<script src="generatorspirit.js"></script>
<script src="wallspirit.js"></script>
<script src="exitspirit.js"></script>

<script src="renderer.js"></script>
<script src="fracas2.js"></script>

<link rel="stylesheet" type="text/css" href="main.css">
</head>

<body>
<canvas id="canvas"></canvas>
<script>

var f2;

function main() {
  var canvas = document.querySelector('#canvas');
  var levelPaths = [
//    './levels/d.txt',

    './levels/a.txt',
    './levels/b.txt',
    './levels/c.txt',
    './levels/d.txt'
  ];
  f2 = new Fracas2(canvas);
  f2.startLoadingLevels(levelPaths);
  f2.beginMainMenu();
}

function pd(event) {
  event.preventDefault();
}

window.addEventListener('load', main);
window.addEventListener('scroll', pd);
document.body.addEventListener('touchstart', pd);
document.body.addEventListener('touchmove', pd);
document.body.addEventListener('touchend', pd);

</script>
<script>

if (document.location.hostname.indexOf('cave2d.com') > -1) {
  (function (i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r;
    i[r] = i[r] || function () {
      (i[r].q = i[r].q || []).push(arguments)
    }, i[r].l = 1 * new Date();
    a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];
    a.async = 1;
    a.src = g;
    m.parentNode.insertBefore(a, m)
  })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

  ga('create', 'UA-7758703-3', 'auto');
  ga('send', 'pageview');
}

</script>
</body>
</html>
